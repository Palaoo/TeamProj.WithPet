<!DOCTYPE html>
<html lang="en">
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>mall proto</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <th:block th:replace="fragments/index::style"></th:block>
</head>

<style>
    #login,
    #signin,
    #myshopping,
    #basket_shopping,
    #userInfo,
    #cafename {
        text-decoration: none;
        color: black;
    }

    nav a {
        text-decoration: none;
        color: black;
        margin: 2em;
    }

    nav {
        display: flex;
        justify-content: center;
    }

    .div1 {
        width: 95%;
        height: 600px;
        margin: auto;
    }

    .div-imgcontainer {
        width: 50vh;
        height: 50vw;
        float: left;
    }

    .div-right {
        width: 50%;
        height: 95%;
        float: right;
    }







</style>

<body>

<p align=right><a id="myshopping" href='myshopping'>마이쇼핑</a>&nbsp;&nbsp;<a id="basket_shopping"
                                                                           href='basket_view'>장바구니</a>&nbsp;&nbsp;<a
        id="userInfo" href='userInfo'>회원정보</a>&nbsp;&nbsp;<a id="login"
                                                             href='../Login'>로그인</a></p>
<h1 id="logo" align=center>WITH PET</h1>
<nav>
    <a href="#">숙소</a>
    <a href="#">카페</a>
    <a href="#">맛집</a>
    <a href="mallPage">상점</a>
    <a href="#">게시판</a>
</nav>

<hr>

<!--<div class="div1">
    <div class='div-imgcontainer'>
        <img th:src="${img}" id="prod_img" width="300" height="300">
    </div>
    <div class="div-right">
        <p th:text="${product.name}">상품명</p><br>
        <p th:text="${product.price}" id="price">가격</p><br>
        <input type="hidden" name="prodId" id="prodId" th:value="${product.id}">

        <table>
            <tr>
                <td>
                    <span class="quantity">
                        <input id="quantity" name="quantity_name" style="" value="1" type="text" /> <button
                            id="btnQuantityUp"><img
                                src="//img.echosting.cafe24.com/skin/base_ko_KR/product/btn_count_up.gif" alt="수량증가"
                                class="QuantityUp up" /></button>
                        <button id="btnQuantityDown"><img
                                src="//img.echosting.cafe24.com/skin/base_ko_KR/product/btn_count_down.gif"
                                alt="수량감소" class="QuantityDown down" /></button>
                    </span>
                </td>
                <td class="right">
                    <span class="quantity_price" id="totalPrice" th:text="${product.price}">19800</span> <span
                        class="mileage displaynone">(<img src="" /> <span class="mileage_price"></span>)</span>
                </td>
            </tr>
        </table>

        <input type="button" id="payment" value="TossPay 결제"><br>
        <input type="button" id="bascket" value="장바구니">
    </div>
</div>

<hr>

<div>
    리뷰 div
</div>

<hr>

<div>
    <div>
        상품 상세정보 div<br>
        <p name="" id="" cols="30" rows="10" th:utext="${product.detail}"></p>
    </div>
</div>-->



    <!-- Shop Details Section Begin -->
<!--    <section class="shop-details">-->
<!--        <div class="product__details__pic">-->
<!--            <div class="container">-->
<!--                <div class="row">-->
<!--                    <div class="col-lg-12">-->
<!--                        <div class="product__details__breadcrumb">-->
<!--                            <a href="./index.html">Home</a>-->
<!--                            <a href="./shop.html">Shop</a>-->
<!--                            <span>Product Details</span>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--        <div class="product__details__content">-->
<!--            <div class="container">-->
<!--                <div class="row d-flex justify-content-center">-->
<!--                    <div class="col-12 col-lg-6">-->
                        <!--<ul class="nav nav-tabs" role="tablist">
                            <li class="nav-item">
                                <a class="nav-link active" data-toggle="tab" href="#tabs-1" role="tab">
                                    <div class="product__thumb__pic set-bg">
                                        <input id="quantity" name="quantity_name" style="" value="1" type="text" />
                                        <button id="btnQuantityUp"><img
                                                src="//img.echosting.cafe24.com/skin/base_ko_KR/product/btn_count_up.gif"
                                                alt="수량증가" class="QuantityUp up" /></button>
                                        <button id="btnQuantityDown"><img
                                                src="//img.echosting.cafe24.com/skin/base_ko_KR/product/btn_count_down.gif"
                                                alt="수량감소" class="QuantityDown down" /></button>
                                        </span>
                                        <span class="quantity_price" id="totalPrice"
                                            th:text="${product.price}">19800</span> <span
                                            class="mileage displaynone">(<img src="" /> <span
                                                class="mileage_price"></span>)</span>

                                    </div>
                                </div>
                                <a href="#" class="primary-btn" id="payment">TossPay 결제</a>
                                <a href="#" class="primary-btn" id="bascket">장바구니</a>
                            </div>
                            <div class="product__details__btns__option">
                                <a href="#"><i class="fa fa-heart"></i> add to wishlist</a>
                                <a href="#"><i class="fa fa-exchange"></i> Add To Compare</a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-lg-12">
                        <div class="product__details__tab">
                                <ul class="nav justify-content-center" role="tablist">
                                    <li class="nav-item">
                                        <a class="nav-link active" data-bs-toggle="tab" data-bs-target="#tabs-5" href="#tabs-5">Description</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" data-bs-toggle="tab" data-bs-target="#tabs-6" href="#tabs-6">Customer
                                            Previews(5)</a>
                                    </li>
                                </ul>
                            <div class="tab-content">
                                <div class="tab-pane fade show active" id="tabs-5" role="tabpanel">
                                    <div class="product__details__tab__content">
                                        <p name="" id="" cols="30" rows="10" th:utext="${product.detail}"></p>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="tabs-6" role="tabpanel">
                                    <div class="product__details__tab__content">
                                        <div class="product__details__tab__content__item">
                                            <h5>Products Infomation</h5>
                                            <p>A Pocket PC is a handheld computer, which features many of the same
                                                capabilities as a modern PC. These handy little devices allow
                                                individuals to retrieve and store e-mail messages, create a contact
                                                file, coordinate appointments, surf the internet, exchange text messages
                                                and more. Every product that is labeled as a Pocket PC must be
                                                accompanied with specific software to operate the unit and must feature
                                                a touchscreen and touchpad.</p>
                                            <p>As is the case with any new technology product, the cost of a Pocket PC
                                                was substantial during it’s early release. For approximately $700.00,
                                                consumers could purchase one of top-of-the-line Pocket PCs in 2003.
                                                These days, customers are finding that prices have become much more
                                                reasonable now that the newness is wearing off. For approximately
                                                $350.00, a new Pocket PC can now be purchased.</p>
                                        </div>
                                        <div class="product__details__tab__content__item">
                                            <h5>Material used</h5>
                                            <p>Polyester is deemed lower quality due to its none natural quality’s. Made
                                                from synthetic materials, not natural like wool. Polyester suits become
                                                creased easily and are known for not being breathable. Polyester suits
                                                tend to have a shine to them compared to wool and cotton suits, this can
                                                make the suit look cheap. The texture of velvet is luxurious and
                                                breathable. Velvet is a great choice for dinner party jacket and can be
                                                worn all year round.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section> -->
<!-- Shop Details Section End -->


<!-- Shop Details Section Begin -->
<section class="shop-details">
    <div class="product__details__pic">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="product__details__breadcrumb">
                        <a href="./index.html">Home</a>
                        <a href="./shop.html">Shop</a>
                        <span>Product Details</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="product__details__content">
        <div class="container">
            <div class="row d-flex justify-content-center">
                <div class="col-12 col-lg-6">
                    <!--<ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" data-toggle="tab" href="#tabs-1" role="tab">
                                <div class="product__thumb__pic set-bg">

                                </div>
                            </a>
                        </li>
                    </ul>-->
                    <img th:src="${img}" id="prod_img" width="300" height="300">
                </div>
                <div class="col-12 col-lg-6">
                    <div class="product__details__text">
                        <h4><p th:text="${product.name}">상품명</p></h4>
                        <div class="rating">
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star-o"></i>
                            <span> - 5 Reviews</span>
                        </div>
                        <h3 th:text="${product.price}" id="price"></h3> <!--<span>70.00</span>-->
                        <input type="hidden" name="prodId" id="prodId" th:value="${product.id}">
                        <!--<p>Coat with quilted lining and an adjustable hood. Featuring long sleeves with adjustable
                            cuff tabs, adjustable asymmetric hem with elastic side tabs and a front zip fastening
                            with placket.</p>-->
                        <div class="product__details__cart__option">
                            <div class="quantity">
                                <div class="pro-qty">
<!--                                    <table>-->
<!--                                        <tr>-->
<!--                                            <td>-->
<!--                                                <input id="quantity" name="quantity_name" style="" value="1" type="text"/>-->
<!--                                            </td>-->
<!--                                            <td>-->
<!--                                                <button-->
<!--                                                        id="btnQuantityUp"><img-->
<!--                                                        src="//img.echosting.cafe24.com/skin/base_ko_KR/product/btn_count_up.gif"-->
<!--                                                        alt="수량증가"-->
<!--                                                        class="QuantityUp up"/></button>-->
<!--                                            </td>-->
<!--                                            <td>-->

<!--                                            </td>-->
<!--                                        </tr>-->
<!--                                    </table>-->
                                    <input id="quantity" name="quantity_name" style="" value="1" type="text"/>
                                    <button
                                            id="btnQuantityUp"><img
                                            src="//img.echosting.cafe24.com/skin/base_ko_KR/product/btn_count_up.gif"
                                            alt="수량증가"
                                            class="QuantityUp up"/></button>
                                    <button id="btnQuantityDown"><img
                                            src="//img.echosting.cafe24.com/skin/base_ko_KR/product/btn_count_down.gif"
                                            alt="수량감소" class="QuantityDown down"/></button>
                                    </span>
                                    <span class="quantity_price" id="totalPrice" th:text="${product.price}">19800</span>
                                    <span
                                            class="mileage displaynone">(<img src=""/> <span
                                            class="mileage_price"></span>)</span>

                                </div>
                            </div>
                            <a href="#" class="primary-btn" id="payment">TossPay 결제</a>
                            <a href="#" class="primary-btn" id="bascket">장바구니</a>
                        </div>
                        <div class="product__details__btns__option">
                            <a href="#"><i class="fa fa-heart"></i> add to wishlist</a>
                            <a href="#"><i class="fa fa-exchange"></i> Add To Compare</a>
                        </div>
                    </div>
                </div>
            </div>

            <!--상세설명-->
            <div class="row">
                <div class="col-lg-12">
                    <div class="product__details__tab">
                        <ul class="nav nav-tabs" role="tablist">
                            <li class="nav-item">
                                <a class="nav-link active" data-toggle="tab" href="#tabs-5"
                                   role="tab">Description</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#tabs-6" role="tab">Customer
                                    Previews(5)</a>
                            </li>
                        </ul>

                        <div class="tab-content">
                            <div class="tab-pane active" id="tabs-5" role="tabpanel">
                                <div class="product__details__tab__content">
                                    <p name="" id="" cols="30" rows="10" th:utext="${product.detail}"></p>
                                </div>
                            </div>

                            <ul class="nav nav-tabs" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link" data-toggle="tab" href="#tabs-5"
                                       role="tab">Description</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link active" data-toggle="tab" href="#tabs-6" role="tab">Customer
                                        Previews(5)</a>
                                </li>
                            </ul>

                            <div class="tab-pane active" id="tabs-6" role="tabpanel">
                                <div class="product__details__tab__content">
                                    <div class="product__details__tab__content__item" >
                                        <div class="rating" style="float:left;">
                                            <i class="fa fa-star-o"></i>
                                            <i class="fa fa-star-o"></i>
                                            <i class="fa fa-star-o"></i>
                                            <i class="fa fa-star-o"></i>
                                            <i class="fa fa-star-o"></i>
                                        </div>
                                        <div style="float:right;">
                                            <h5 align="right">id</h5>
                                        </div>

                                    </div>
                                    <div>
                                        <p>A Pocket PC is a handheld computer, which features many of the same
                                            capabilities as a modern PC. These handy little devices allow
                                            individuals to retrieve and store e-mail messages, create a contact
                                            file, coordinate appointments, surf the internet, exchange text messages
                                            and more. Every product that is labeled as a Pocket PC must be
                                            accompanied with specific software to operate the unit and must feature
                                            a touchscreen and touchpad.</p>
                                    </div>
                                    <div>
                                        <img src="">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Shop Details Section End -->


</body>
<script src="https://js.tosspayments.com/v1"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>

    $(document).ready(function () {
        console.log('ready 동작')
        $(".nav-link").click(function () {
            $(this).tab('show');
        });
    });

    $(document).on('click', '#payment', function () {
        tossPayments()
    }).on('click', '#btnQuantityUp', function () {
        $('#quantity').val(parseInt($('#quantity').val()) + 1);
        $('#totalPrice').text(parseInt($('#price').text()) * parseInt($('#quantity').val()))
    }).on('click', '#btnQuantityDown', function () {
        $('#quantity').val(parseInt($('#quantity').val()) - 1);
        $('#totalPrice').text(parseInt($('#price').text()) * parseInt($('#quantity').val()))
    }).on('click', '#bascket', function () {
        $.ajax({
            type: 'get', url: 'append_basket?prodId=' + $('#prodId').val(),
            success: function () {
                alert('장바구니에 추가되었습니다.')
            }
        })
    })


    $('#logo').on('click', function () {
        location = '/';
    })

    function tossPayments() {
        let clientKey = 'test_ck_mnRQoOaPz8L0knPzxY58y47BMw6v'
        let tossPayments = TossPayments(clientKey)
        let totalPrice = parseInt($('#totalPrice').text());
        tossPayments.requestPayment('카드', {
            // 결제 수단 파라미터
            // 결제 정보 파라미터
            amount: totalPrice,
            orderId: 'L6o8LEvy99H1wUTR6vOT3',
            orderName: '토스 티셔츠 외 2건',
            customerName: '박토스',
            successUrl: 'http://localhost:8080/paysuccess'
                + '?priceid=' + $('#prodId').val() + '&count=' + $('#quantity').val(),
            failUrl: 'http://localhost:8080/payfail',
        })
    }

    function handleClick(){
        //I've tried the following, none seem to work
        $('#tabs-5').toggleClass('active');
        $('#tabs-5').show();
        $('#tabs-5').tab('show');
        $('#tabs-6').toggleClass('active');
        $('#tabs-6').show();
        $('#tabs-6').tab('show');
    }







</script>

</html>