<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MY SHOP</title>
    <th:block th:replace="fragments/index::style"></th:block>
</head>
<body>
<style>
    /*div.container{}*/
    /*div.header div.footer{clear:left}*/
    /*div.left{float:left;}*/
    /*.header{height: 200px;}*/
    /*.top{height: 70px;*/
    /*    margin: auto;}*/
    /*.footer{height: 30px;}*/
    /*.left{height: 500px; width:200px;}*/
    /*.contents{height: 500px;}*/
    /*#login,#signin,#cafename{*/
    /*        text-decoration:none;*/
    /*        color:black;*/
    /*    }*/
    /*    nav a{*/
    /*        text-decoration:none;*/
    /*        color:black;*/
    /*        margin:2em;*/
    /*    }*/
    /*    nav{*/
    /*        display:flex;*/
    /*        justify-content:center;*/
    /*    }*/

    .profile_user{
        width:100px;
        height:100px;
        border-radius: 70%;
        overflow: hidden;
        background-color:pink;
    }
    #img_profile{
    <!--  width:100px;
    height:100px;-->
        width:100%;
        height:100%;
        object-fit:cover;
    }
</style>

<div th:replace="fragments/index :: header"></div>

<!--    -->
<!--    <div class="header">-->
<!--        <p align=right><a id="logout" href='/'>로그아웃</a>&nbsp;&nbsp;<a id="mypage" href='mypage'>마이페이지</a></p>-->
<!--        <h1 align=center><a href="/">WITH PET</a></h1>-->
<!--        <nav>-->
<!--           <a href="#">숙소</a>-->
<!--           <a href="cafe_list">카페</a>-->
<!--           <a href="Restaurant-list">맛집</a>-->
<!--           <a href="#">상점</a>-->
<!--           <a href="#">게시판</a>-->
<!--        </nav>-->
<!--    </div>-->

<!--<div class="container">
    <div class="top">
        <img src="dd.JPG"><span th:text="${userLogined}"></span>님
    </div>

    <div class="contents">
        <div class="row">
            <div class="col-sm-4">
                <div style="height:120px"><a href="/mypage">예약내역</a></div>
                <div style="height:120px"><a href="/mypage/myshop">저장목록</a></div><br><br>
                <div style="height:120px"><a href="/mypage/review">내 후기</a></div><br><br>
                <div style="height:120px"><a href>내가 남긴 글</a></div>
            </div>

            <div class="col-sm-8">
                <th:block th:each="LikeDTO, index : ${likeshopDTOList}">
                    <div class="card mb-3" style="max-width: 540px;">
                        <div class="row g-0">
                            <div class="col-md-4">
                                <img src="..." class="img-fluid rounded-start" alt="..." width="300" height="300">
                            </div>

                            <div class="col-md-5">
                                <div class="card-body">
                                    <p th:text="${LikeDTO.cafe.getShoptype().getTypename()}">shoptype name</p>
                                    <p th:text="${LikeDTO.cafe.getRegion().getRegname()}">region name</p>
                                    <div class="row">
                                        <h5 class="card-title" th:text="${LikeDTO.cafe.name}"></h5>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-3">
                                <form th:action="${'/mypage/myshop/delete'}" method="get">
                                    <input type="hidden" name="likeid" th:value="${LikeDTO.shoplike.getLikeid()}">
                                    <input type="hidden" name="shopid" th:value="${LikeDTO.shoplike.getShopid()}">
                                    <button  class="btn btn-outline-danger btn-sm" name="delete">삭제</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </th:block>
            </div>
        </div>
    </div>
</div>-->

<section class="breadcrumb-option">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="breadcrumb__text">
                    <h4>회원정보</h4>
                    <div class="breadcrumb__links">
                        <a href="./index.html">Home</a>
                        <span>Info</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


<div class="container">
    <div class="row">
        <div class="col-2">
            <div class="profile_user" >
                <img id="img_profile" src="/img/blog/blog-1.jpg" style="vertical-align: middle;">

            </div>
        </div>
        <div class="col-10">
            <br>
            <br>
            <h5 th:text="|${userLogined}님|"></h5>
        </div>
    </div>
    <div class="row">
        <div class="col-3" id="leftbar">
            <div class="shop__sidebar">
                <div class="shop__sidebar__accordion">
                    <div class="accordion" id="accordionExample">
                        <div class="card">
                            <div id="collapseOne" class="collapse show" data-parent="#accordionExample">
                                <div class="card-body">
                                    <div class="shop__sidebar__categories" id="lefttab">
                                        <ul class="nav flex-column">
                                            <li class="nav-item">
                                                <a class="nav-link" id="reservation-tab" href="/mypage/booking">예약내역</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link active" id="save-tab" aria-current="page" href="/mypage/myshop">저장목록</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="review-tab" href="/mypage/review">내 후기</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="mywriting-tab" href="/mypage/post">내가 남긴 글</a>
                                            </li>
                                        </ul>
                                        <ul class="nav flex-column">
                                            <li class="nav-item">
                                                <a class="nav-link" id="manager-tab" href="/mypage/manager">관리자 등록</a>
                                            </li>
                                            <li class="nav-item" role="presentation">
                                                <a class="nav-link" id="business-tab" href="/businessPage">사업자</a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                        </div>

                    </div>
                </div>
            </div>
        </div>
        <div class="col-9">
            <div class="row">
                <div class="tab-content">
                    <div class="tab-pane" id="reservation" role="tabpanel" aria-labelledby="reservation-tab">
                    </div>

                    <div class="tab-pane active" id="save" role="tabpanel" aria-labelledby="save-tab">
                        <th:block th:each="LikeDTO, index : ${likeshopDTOList}">
                            <div class="card mb-3" style="max-width: 540px;">
                                <div class="row g-0">
                                    <div class="col-md-4">
                                        <img src="..." class="img-fluid rounded-start" alt="..." width="300" height="300">
                                    </div>

                                    <div class="col-md-5">
                                        <div class="card-body">
                                            <p th:text="${LikeDTO.cafe.getShoptype().getTypename()}">shoptype name</p>
                                            <p th:text="${LikeDTO.cafe.getRegion().getRegname()}">region name</p>
                                            <div class="row">
                                                <h5 class="card-title" th:text="${LikeDTO.cafe.name}"></h5>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-3">
                                        <form th:action="${'/mypage/myshop/delete'}" method="get">
                                            <input type="hidden" name="likeid" th:value="${LikeDTO.shoplike.getLikeid()}">
                                            <input type="hidden" name="shopid" th:value="${LikeDTO.shoplike.getShopid()}">
                                            <button  class="btn btn-outline-danger btn-sm" name="delete">삭제</button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </th:block>
                    </div>

                    <div class="tab-pane" id="review" role="tabpanel" aria-labelledby="review-tab">
                    </div>

                    <div class="tab-pane" id="mywriting" role="tabpanel" aria-labelledby="mywriting-tab">
                    </div>

                    <div class="tab-pane" id="manager" role="tabpanel" aria-labelledby="manager-tab">
                    </div>

                    <div class="tab-pane" id="business" role="tabpanel" aria-labelledby="business-tab">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<th:block th:replace="fragments/index :: footer"></th:block>
</body>
<script src='https://code.jquery.com/jquery-3.4.1.js'></script>
<script>
    $(document)
        .on('click', '#btnLike', function () {
            shopid = $(this).attr('name')
            $.ajax({
                type: 'get',
                url: 'append_shoplike?shopId=' + shopid,
                success: function (data) {
                    ID = '#btnLike' + shopid
                    if (data == '1') {
                        $(ID).attr("src", "image/redheart.png")
                        $(ID).attr("width", "25px")
                        $(ID).attr("height", "25px")
                    } else {
                        console.log('여기')
                        $(ID).attr("height", "25px")
                        $(ID).attr("width", "25px")
                        $(ID).attr("src", "image/heart.png")

                    }
                }
            })
        })
</script>
</html>